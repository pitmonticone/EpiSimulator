---
title: "Digital Epidemiology Project<br>"
subtitle: '<em>A data-driven stochastic hybrid model for Italy</em> <br>'
author: 'Pietro Monticone | [`r icon::fa("at", color="white")`](pietro.monticone@edu.unito.it) [`r icon::fa("github", color="white")`](https://github.com/pitmonticone) [`r icon::fa("twitter", color="white")`](https://twitter.com/PietroMonticone)<br>&nbsp;Davide Orsenigo &nbsp;| [`r icon::fa("at", color="white")`](davide.orsenigo@edu.unito.it) [`r icon::fa("github", color="white")`](https://github.com/daorse) [`r icon::fa("twitter", color="white")`](https://twitter.com/DavideOrsenigo)<br>'
date: "`r Sys.Date()`, *University of Turin*"
output: 
  prettydoc::html_pretty:
    theme: cayman
    highlight: github
    toc: true
fontsize: 10pt
#output: pdf_document
#bibliography: bibliography.bibtex # https://doi2bib.org
#biblio-style: apalike
#link-citations: yes
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(message = FALSE, warning = FALSE, include = FALSE, eval = FALSE) 
library(DT)
library(knitr)
library(tidyverse)

# Abstract
### Super-compact description, explanation
# Introduction 
### Narrative stuff

# Research Questions / Goals / Objectives 
### Geo-spatial scale exploration
### Diagnostic / Surveillance strategies portfolio exploration
### Contact-tracing app coverage exploration
### Minimum treshold for contact-tracing coverage
### Double dataset: clinical vs. epidemiological

# Data
## Geo-spatial (Provincial, NUTS3)
## Administrative (Provincial)
## Population (Age-stratified)
## Contact (Main locations)
## Mobility 
## Epidemiological
## Diagnostic

# Graphs 
## Proximity (Provincial)
## Contact Graphs
## Mobility Graphs
# Agents
## Structure
## Dynamics

# Model
## Epidemiological Module
### Structure
### Dynamics
## Surveillance Module
### Structure
### Dynamics
## Contact-Tracing Module
### Structure
### Dynamics
## Behavioral Module
### Structure
### Dynamics

# Results
### Diagnostic / Surveillance
### Epidemiological
### Decision-support system (trade-off analysis, Pareto front,...)
### Epistemic (Indirect) value vs. Mitigation/Containment/Control/Clinical(Direct) value trade-off

# Limitations & Future Development / Extensions (What's Next?)
### Full phase space & parameter space exploration 
### Add Behavioral module
### Computational framework development, serial & parallelized optimization (see C.R.)
### Apply SciML to ABMs 
```

We adopt provincial-level geo-spatial data for Italy [1] in order to construct the mobility graph, whose nodes represents provinces which are populated according to age-stratified census data [2] (16 equi-spaced age groups from 0 to 80) and whose normalized weighted directed edges represents inter-provincial traffic flows [3]. 

The local (within a given provincial node) heterogeneous contact patterns are governed by not-symmetric synthectic contact matrices [4]: the matrix component $C_{ij}^{L}$ encodes the frequency of daily contacts that a given agent of age group $i$ has with any agent of age group $j$ in a given location $L \in$ {Home, School, Work, Other}.

The number of agents in each provincial node and each age group is determined by the actual provincial population adjusted by a scale factor. The internal structure of the agent is completely specified by the following attributes: 

* identifier code $\text{id} \in [1,N] \subset \mathbb{N}$           
* current location $p \in [1,M] \subset \mathbb{N}$
* age group $a \in [1,A] \subset \mathbb{N}$
* residence (origin) location $r \in [1,M] \subset \mathbb{N}$
* workplace location  $\text{wp} \in [1,M] \subset \mathbb{N}$
* household community $\vec{h}, h_j \in \{j \in [1,N] : p_j=p_i\}$
* workplace community $\vec{w}, w_j \in \{j \in [1,N] : \text{wp}_j=\text{wp}_i\}$
* infection state $x \in \{S,E,I_a,I_p,I_s,R,D\}$
* diagnostic state $d \in \{O,N,P,W,R\}$

In order to initialize the workplace locations we let each agent migrate from its residence node according to the probability vector defined by the mobility weights. The workplace community is populated by the agents who have been contacted according to $C_{ij}^{\text{Work}}$ sharing the workplace location, while the household community is populated by the agents who have been contacted according to $C_{ij}^{\text{Home}}$.

The phase space of the epidemiological compartmental model used to describe the natural history of the disease is defined by the following states: susceptible ($S$), exposed or latent ($E$), asymptomatic infected ($I_a$), pre-symptomatic infected ($I_p$), symptomatic infected ($I_s$), recovered ($R$), died ($D$). All the relevant epidemiological parameters and timing distributions are reported in the diagram below

![](/Users/Pit/GitHub/DigitalEpidemiologyProject/Images/Epidemiology/EpidemicModelDiagram.png)

# Abstract
### Super-compact description
# Introduction 
### Narrative stuff

# Research Questions / Goals / Objectives 
### Geo-spatial scale exploration
### Diagnostic / Surveillance strategies portfolio exploration
### Contact-tracing app coverage exploration
### Minimum treshold for contact-tracing coverage
### Double dataset: clinical vs. epidemiological

# Data
## Geo-spatial (Provincial, NUTS3)
## Administrative (Provincial)
## Population (Age-stratified)
## Contact (Main locations)
## Mobility 
## Epidemiological
## Diagnostic

# Graphs 
## Proximity (Provincial)
## Contact Graphs
## Mobility Graphs
# Agents
## Structure
## Dynamics

# Model
## Epidemiological Module
### Structure
### Dynamics
## Surveillance Module
### Structure
### Dynamics
## Contact-Tracing Module
### Structure
### Dynamics
## Behavioral Module
### Structure
### Dynamics

# Results
### Diagnostic / Surveillance
### Epidemiological
### Decision-support system (trade-off analysis, Pareto front,...)
### Epistemic (Indirect) value vs. Mitigation/Containment/Control/Clinical(Direct) value trade-off

# Limitations & Future Development / Extensions (What's Next?)
### Full phase space & parameter space exploration 
### Add Behavioral module
### Computational framework development, serial & parallelized optimization (see C.R.)
### Apply SciML to ABMs 

### Micro-dynamics

The model micro-dynamics is structured as follows

`agent_step!`

### Macro-dynamics
`model_step!`




